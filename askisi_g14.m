% Καθαρισμός του workspace και των figure
clear;
clc;
close all;

% Ορισμός του διαστήματος χρόνου από -0.1 έως 0.1 με βήμα 0.001
t = -0.1:0.001:0.1;

% Συχνότητα δειγματοληψίας για x1
fs1 = 1000; % Hz
Ts1 = 1/fs1; % Περίοδος δειγματοληψίας

% Συχνότητα δειγματοληψίας για x2
fs2 = 500; % Hz
Ts2 = 1/fs2; % Περίοδος δειγματοληψίας

% Δειγματοληπτημένα σημεία
N1 = -50:1:50;

% Ορισμός του σήματος z ως άθροισμα των cos(100*pi*t), cos(200*pi*t) και sin(500*pi*t)
z = cos(100*pi*t) + cos(200*pi*t) + sin(500*pi*t);

% Υπολογισμός των δειγμάτων του σήματος για fs1
Xs1 = cos(100*pi*N1*Ts1) + cos(200*pi*N1*Ts1) + sin(500*pi*N1*Ts1);

% Ανακατασκευή του σήματος x1 χρησιμοποιώντας το θεώρημα δειγματοληψίας για fs1
x1 = zeros(1, length(t));
for k = 1:length(t)
    x1(k) = Xs1 * sinc((t(k) - N1*Ts1) / Ts1)';
end

% Υπολογισμός των δειγμάτων του σήματος για fs2
Xs2 = cos(100*pi*N1*Ts2) + cos(200*pi*N1*Ts2) + sin(500*pi*N1*Ts2);

% Ανακατασκευή του σήματος x2 χρησιμοποιώντας το θεώρημα δειγματοληψίας για fs2
x2 = zeros(1, length(t));
for k = 1:length(t)
    x2(k) = Xs2 * sinc((t(k) - N1*Ts2) / Ts2)';
end

% Σχεδίαση του αρχικού σήματος
figure;
plot(t, z, 'b', 'LineWidth', 1.5);
hold on;

% Σχεδίαση του ανακατασκευασμένου σήματος x1
plot(t, x1, 'r--', 'LineWidth', 1.5);

% Σχεδίαση του ανακατασκευασμένου σήματος x2
plot(t, x2, 'g--', 'LineWidth', 1.5);

% Προσθήκη υπομνήματος (legend) για τα σήματα
legend('Αρχικό σήμα x(t)', 'Ανακατασκευασμένο σήμα x1(t) (fs = 1000 Hz)', 'Ανακατασκευασμένο σήμα x2(t) (fs = 500 Hz)');

% Ορισμός του τίτλου του διαγράμματος
title('Ανακατασκευή Σήματος με Θεώρημα Δειγματοληψίας (fs = 1000 Hz και fs = 500 Hz)');

% Ορισμός των ετικετών των αξόνων
xlabel('Χρόνος (δευτερόλεπτα)');
ylabel('Πλάτος');

% Ενεργοποίηση πλέγματος στο διάγραμμα για καλύτερη ανάγνωση
grid on;
